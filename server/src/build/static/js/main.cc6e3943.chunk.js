(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{22:function(e,t,a){},42:function(e,t,a){},43:function(e,t,a){},44:function(e,t,a){},45:function(e,t,a){"use strict";a.r(t);var n=a(1),c=a.n(n),s=a(14),r=a.n(s),i=a(3),o=a(5),l=a.n(o),d=a(15),u=(a(22),a.p+"static/media/image.3710b8a3.svg"),j=a(16),b=a.n(j),p=a(0);function m(e){var t=Object(n.useState)(),a=Object(i.a)(t,2),c=a[0],s=a[1],r=Object(n.useRef)();function o(e){var t=e[0];if(!t.type.startsWith("image/"))throw new Error("No se ha subido una imagen");s(t),function(e){j.apply(this,arguments)}(t)}function j(){return(j=Object(d.a)(l.a.mark((function t(a){var n,c,s,r,i;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(n=new FormData).append("file",a),t.prev=2,e.startLoading(!0),t.next=6,b.a.post("http://localhost:3001/upload",n,{headers:{"Content-Type":"multiplatform/form-data"},onUploadProgress:function(t){e.updateProgressPorcent(parseInt(Math.round(100*t.loaded/t.total)))}});case 6:c=t.sent,s=c.data,r=s.fileName,i=s.filePath,e.checkImage({fileName:r,filePath:i}),e.startLoading(!1),t.next=17;break;case 12:t.prev=12,t.t0=t.catch(2),console.log(t.t0),alert("Ha ocurrido un error"),e.startLoading(!1);case 17:case"end":return t.stop()}}),t,null,[[2,12]])})))).apply(this,arguments)}return Object(n.useEffect)((function(){if(c){var e=document.body.getElementsByClassName("imageDropper"),t=document.createElement("img");t.classList.add("obj"),t.file=c,t.style.position="absolute",t.style.width="100%",t.style.height="100%",t.style.cursor="pointer",e[0].appendChild(t);var a=new FileReader;a.onload=(n=t,function(e){n.src=e.target.result}),a.readAsDataURL(c)}var n}),[c]),Object(p.jsxs)("div",{className:"card",children:[Object(p.jsx)("div",{className:"title",children:Object(p.jsx)("h1",{children:"Upload your image"})}),Object(p.jsx)("div",{className:"subtitle",children:Object(p.jsx)("h3",{children:"File should be Jpeg, Png..."})}),Object(p.jsxs)("div",{className:"imageDropper",onDrop:function(e){e.stopPropagation(),e.preventDefault(),o(e.dataTransfer.files)},onDragOver:function(e){e.preventDefault()},children:[Object(p.jsx)("img",{src:u,alt:"paisaje"}),Object(p.jsx)("h4",{children:"Drag & Drop your image here"})]}),Object(p.jsx)("div",{className:"or",children:Object(p.jsx)("h3",{children:"Or"})}),Object(p.jsx)("button",{onClick:function(){return r.current.click()},children:"Choose a file"}),Object(p.jsx)("input",{type:"file",style:{display:"none"},ref:r,onChange:function(e){o(e.target.files)}})]})}a(42);function h(e){return console.log(e.progressPorcent),Object(p.jsxs)("div",{className:"loadingCard",children:[Object(p.jsx)("h1",{children:"Uploading..."}),Object(p.jsx)("div",{className:"uploadBar",children:Object(p.jsx)("div",{className:"progressBar"})})]})}a(43);var f=a.p+"static/media/green-check.cb16bbbb.png";function g(e){return Object(n.useEffect)((function(){document.getElementById("link").select()}),[]),Object(p.jsxs)("div",{className:"card",children:[Object(p.jsx)("img",{src:f,className:"greenCheck",alt:"greenCheck"}),Object(p.jsx)("div",{className:"container",children:Object(p.jsx)("h2",{className:"title",children:"Uploaded Successesfully!"})}),Object(p.jsx)("img",{className:"mainImage",src:e.data.filePath,alt:e.data.fileName}),Object(p.jsxs)("div",{className:"imageLink",children:[Object(p.jsx)("input",{type:"text",readOnly:!0,value:e.data.filePath,id:"link",onClick:function(){var e=document.getElementById("link");e.select(),e.setSelectionRange(0,99999)}}),Object(p.jsx)("button",{onClick:function(){var e=document.getElementById("link");e.select(),e.setSelectionRange(0,99999),document.execCommand("copy")},children:"Copy link"})]})]})}a(44);var O=function(){var e=Object(n.useState)(!1),t=Object(i.a)(e,2),a=t[0],c=t[1],s=Object(n.useState)(!1),r=Object(i.a)(s,2),o=r[0],l=r[1],d=Object(n.useState)(""),u=Object(i.a)(d,2),j=u[0],b=u[1],f=Object(n.useState)(0),O=Object(i.a)(f,2),x=O[0],v=O[1];return Object(p.jsx)("div",{className:"main",children:a?Object(p.jsx)(h,{progressPorcent:x}):o?Object(p.jsx)(g,{data:j}):Object(p.jsx)(m,{checkImage:function(e){l(!0),b(e)},startLoading:function(e){c(e)},updateProgressPorcent:function(e){v(e)}})})};r.a.render(Object(p.jsx)(c.a.StrictMode,{children:Object(p.jsx)(O,{})}),document.getElementById("root"))}},[[45,1,2]]]);
//# sourceMappingURL=main.cc6e3943.chunk.js.map